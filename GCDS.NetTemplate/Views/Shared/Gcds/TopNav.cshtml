@using GCDS.NetTemplate.Components.Gcds
@model TopNav

<gcds-top-nav slot="@Model.Slot"
			  label="@Model.Label"
			  alignment="@Model.Alignment"
			  lang="@Model.Lang"
				style="@Model.StyleOverride">

	@if (Model.Home != null)
	{
		Model.Home.Slot = "home";
		@await Html.PartialAsync("Gcds/NavLink", Model.Home)
	}

	@foreach (var item in Model.Links)
	{
		if (item is Link)
		{
			@await Html.PartialAsync("Gcds/NavLink", item)
		}
		else if (item is NavGroup)
		{
			var navGroup = item as NavGroup;
			<gcds-nav-group open-trigger="@navGroup.Label" menu-label="@navGroup.Label">
				@foreach (var subItem in ((NavGroup)item).Links)
				{
					@await Html.PartialAsync("Gcds/NavLink", subItem)
				}
			</gcds-nav-group>
		}

	}

</gcds-top-nav>