@using GCDS.NetTemplate.Components.Gcds

@model GcdsTopNav

<gcds-top-nav slot="@Model.Slot"
label="@Model.Label"
alignment="@Model.Alignment"
lang="@Model.Lang"
style="@Model.StyleOverride">

	@if (Model.Home != null)
	{
		Model.Home.Slot = "home";
		@await Html.PartialAsync("Gcds/GcdsNavLink", Model.Home)
	}

	@foreach (var item in Model.Links)
	{
		switch (item)
		{
			case GcdsLink link:
				@await Html.PartialAsync("Gcds/GcdsNavLink", link)
				break;
			case GcdsNavGroup group:
				<gcds-nav-group open-trigger="@group.Label" menu-label="@group.Label">
					@foreach (var subItem in ((GcdsNavGroup)item).Links)
					{
						@await Html.PartialAsync("Gcds/GcdsNavLink", subItem)
					}
				</gcds-nav-group>
				break;
		}
	}

</gcds-top-nav>